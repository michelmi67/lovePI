<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta charset="utf-8">
    <title>LovePi</title> <!-- 1) Active le sandbox et configure le backend -->
    <script>
      window.__PI_SANDBOX__ = true;
      window.__ENV = {
        backendURL: "https://lovepi-backend.onrender.com"
      };
    </script>
    <title>LovePi</title> <!-- 1) Active le sandbox et configure le backend -->
  </head>
  <body>
    <h1>Loading LovePi…</h1>
    <button onclick="testPayment()">Test Paiement Pi</button>
    <script>
function testPayment() {
  if (!window.Pi) return alert("Pi SDK non dispo");
  window.Pi.createPayment({
    amount: 0.01,
    memo: "Test Pi",
    metadata: { step: "final" }
  }, {
    onReadyForServerApproval(paymentId) { alert("Server approval: " + paymentId); },
    onReadyForServerCompletion(paymentId, txid) { alert("Terminé! " + paymentId); },
    onCancel(paymentId) { alert("Annulé " + paymentId); },
    onError(e) { alert("Erreur: " + JSON.stringify(e)); }
  });
}
     <!-- 6) Point d’entrée applicatif unique -->
    <script src="app.js"></script>
  </body>
</html>

<button id="testPiPay">Paiement Pi</button>
<script src="https://sdk.minepi.com/pi-sdk.js"></script>
<script>
document.getElementById('testPiPay').onclick = function () {
  if (!window.Pi) return alert("Pi SDK non disponible. Utilise le Pi Browser !");
  Pi.createPayment({
    amount: 0.01,
    memo: "Test paiement Pi",
    metadata: { check: "pi" }
  }, {
    onReadyForServerApproval(paymentId) {
      alert("Paiement en attente (ID): " + paymentId);
    },
    onReadyForServerCompletion(paymentId, txid) {
      alert("Paiement terminé! " + paymentId);
    },
    onCancel(paymentId) {
      alert("Annulé " + paymentId);
    },
    onError(e) {
      alert("Erreur: " + JSON.stringify(e));
    }
  });
}
</script>
